(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-editAddress"],{"34e8":function(t,n,a){"use strict";var i=a("a418"),e=a.n(i);e.a},"450b":function(t,n,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=i(a("c7eb")),o=i(a("1da1"));a("d3b7"),a("159b"),a("d81d"),a("ac1f"),a("00b4");var c={data:function(){return{info:"",provinceData:[],provinceIdData:[],provinceIndex:0,cityData:[],cityIdData:[],cityIndex:0,countyData:[],countyIdData:[],countyIndex:0}},onLoad:function(t){var n=this;if(t.info){this.info=JSON.parse(decodeURIComponent(t.info));var a=this.info.province_id,i=this.info.city_id,e=this.info.county_id;a?(this.getProvinceData().then((function(t){t&&n.provinceIdData.forEach((function(t,i){t==a&&(n.provinceIndex=i)}))})),this.getCityData(a).then((function(t){t&&(i?(n.cityIdData.forEach((function(t,a){t==i&&(n.cityIndex=a)})),n.getCountyData(i).then((function(t){t&&e&&n.countyIdData.forEach((function(t,a){t==e&&(n.countyIndex=a)}))}))):n.getCountyData(n.cityIdData[0]))}))):this.getProvinceData()}},methods:{getProvinceData:function(){var t=this;return(0,o.default)((0,e.default)().mark((function n(){var a;return(0,e.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$api.user.getProvinceData();case 2:if(a=n.sent,200!=a.data.code){n.next=7;break}return t.provinceData=a.data.data.map((function(t){return t.name})),t.provinceIdData=a.data.data.map((function(t){return t.pid})),n.abrupt("return",!0);case 7:case"end":return n.stop()}}),n)})))()},getCityData:function(t){var n=this;return(0,o.default)((0,e.default)().mark((function a(){var i;return(0,e.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,n.$api.user.getCityData(t);case 2:if(i=a.sent,200!=i.data.code){a.next=7;break}return n.cityData=i.data.data.map((function(t){return t.name})),n.cityIdData=i.data.data.map((function(t){return t.cid})),a.abrupt("return",!0);case 7:case"end":return a.stop()}}),a)})))()},getCountyData:function(t){var n=this;return(0,o.default)((0,e.default)().mark((function a(){var i;return(0,e.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,n.$api.user.getCountyData(t);case 2:if(i=a.sent,200!=i.data.code){a.next=7;break}return n.countyData=i.data.data.map((function(t){return t.name})),n.countyIdData=i.data.data.map((function(t){return t.yzid})),a.abrupt("return",!0);case 7:case"end":return a.stop()}}),a)})))()},setAddressData:function(t){var n=this;return(0,o.default)((0,e.default)().mark((function a(){var i;return(0,e.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,n.$api.user.setAddressData(t);case 2:i=a.sent,200==i.data.code&&(uni.showToast({title:"提交成功",icon:"success"}),setTimeout((function(t){uni.navigateBack()}),1e3));case 4:case"end":return a.stop()}}),a)})))()},provinceChang:function(t){this.cityData=[],this.cityIdData=[],this.cityIndex=0,this.countyData=[],this.countyIdData=[],this.countyIndex=0;var n=t.detail.value,a=this.provinceData[n],i=this.provinceIdData[n];this.provinceIndex=n,this.info.province=a,this.info.province_id=i,this.info.city="",this.info.city_id="",this.info.county="",this.info.county_id="",this.getCityData(i)},cityChang:function(t){this.countyData=[],this.countyIdData=[],this.countyIndex=0;var n=t.detail.value,a=this.cityData[n],i=this.cityIdData[n];this.cityIndex=n,this.info.city=a,this.info.city_id=i,this.info.county="",this.info.county_id="",this.getCountyData(i)},countyChang:function(t){var n=t.detail.value,a=this.countyData[n],i=this.countyIdData[n];this.countyIndex=n,this.info.county=a,this.info.county_id=i},areaClick:function(t){1==t?uni.showToast({title:"请先选择省份",icon:"error"}):uni.showToast({title:"请先选择城市",icon:"error"})},switchChange:function(t){this.info.is_default=t.detail.value},inputValue:function(t){this.info[t.currentTarget.dataset.label]=t.detail.value},submit:function(){var t=this.info.name,n=this.info.mobile,a=this.info.province,i=this.info.city,e=this.info.county,o=this.info.address;t?n?/^1[3-9]\d{9}$/.test(n)?a?i?e?o?this.setAddressData(this.info):uni.showToast({title:"门牌号不能为空",icon:"error"}):uni.showToast({title:"请选择区县",icon:"error"}):uni.showToast({title:"请选择城市",icon:"error"}):uni.showToast({title:"请选择省份",icon:"error"}):uni.showToast({title:"手机号格式错误",icon:"error"}):uni.showToast({title:"手机号不能为空",icon:"error"}):uni.showToast({title:"联系人不能为空",icon:"error"})},deleteAddress:function(){var t=this;return(0,o.default)((0,e.default)().mark((function n(){var a,i;return(0,e.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.info.id,n.next=3,t.$api.user.deleteAddress(a);case 3:i=n.sent,200==i.data.code&&(uni.showToast({title:"删除成功",icon:"success"}),setTimeout((function(t){uni.navigateBack()}),1e3));case 5:case"end":return n.stop()}}),n)})))()}}};n.default=c},"9a44":function(t,n,a){"use strict";a.r(n);var i=a("450b"),e=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(n,t,(function(){return i[t]}))}(o);n["default"]=e.a},a418:function(t,n,a){var i=a("f6cc");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var e=a("4f06").default;e("2e658aac",i,!0,{sourceMap:!1,shadowMode:!1})},d6c7:function(t,n,a){"use strict";a.d(n,"b",(function(){return i})),a.d(n,"c",(function(){return e})),a.d(n,"a",(function(){}));var i=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("v-uni-view",{staticClass:"container"},[a("v-uni-view",{staticClass:"form-box"},[a("v-uni-view",{staticClass:"row"},[a("v-uni-view",{staticClass:"title"},[t._v("联系人")]),a("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入联系人",value:t.info.name,"data-label":"name"},on:{input:function(n){arguments[0]=n=t.$handleEvent(n),t.inputValue.apply(void 0,arguments)}}})],1),a("v-uni-view",{staticClass:"row"},[a("v-uni-view",{staticClass:"title"},[t._v("手机号")]),a("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入手机号",value:t.info.mobile,"data-label":"mobile"},on:{input:function(n){arguments[0]=n=t.$handleEvent(n),t.inputValue.apply(void 0,arguments)}}})],1),a("v-uni-view",{staticClass:"row"},[a("v-uni-view",{staticClass:"title"},[t._v("省份")]),a("v-uni-picker",{attrs:{mode:"selector",range:t.provinceData,value:t.provinceIndex},on:{change:function(n){arguments[0]=n=t.$handleEvent(n),t.provinceChang.apply(void 0,arguments)}}},[a("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请选择省份",value:t.info.province}})],1)],1),a("v-uni-view",{staticClass:"row"},[a("v-uni-view",{staticClass:"title"},[t._v("城市")]),t.info.province?a("v-uni-picker",{attrs:{mode:"selector",range:t.cityData,value:t.cityIndex},on:{change:function(n){arguments[0]=n=t.$handleEvent(n),t.cityChang.apply(void 0,arguments)}}},[a("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请选择城市",value:t.info.city}})],1):a("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请选择城市",disabled:"true"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),!t.info.province&&t.areaClick(1)}}})],1),a("v-uni-view",{staticClass:"row"},[a("v-uni-view",{staticClass:"title"},[t._v("区县")]),t.info.city?a("v-uni-picker",{attrs:{mode:"selector",range:t.countyData,value:t.countyIndex},on:{change:function(n){arguments[0]=n=t.$handleEvent(n),t.countyChang.apply(void 0,arguments)}}},[a("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请选择区县",value:t.info.county}})],1):a("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请选择区县",disabled:"true"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),!t.info.city&&t.areaClick(2)}}})],1),a("v-uni-view",{staticClass:"row"},[a("v-uni-view",{staticClass:"title"},[t._v("门牌号")]),a("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入门牌号",value:t.info.address,"data-label":"address"},on:{input:function(n){arguments[0]=n=t.$handleEvent(n),t.inputValue.apply(void 0,arguments)}}})],1),a("v-uni-view",{staticClass:"row switch-box"},[a("v-uni-view",{staticClass:"title"},[t._v("设为默认")]),a("v-uni-switch",{attrs:{checked:t.info.is_default,color:"#009000"},on:{change:function(n){arguments[0]=n=t.$handleEvent(n),t.switchChange.apply(void 0,arguments)}}})],1),a("v-uni-button",{staticClass:"btn",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.submit.apply(void 0,arguments)}}},[t._v("提交")]),a("v-uni-button",{staticClass:"btn btn2",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.deleteAddress.apply(void 0,arguments)}}},[t._v("删除")])],1)],1)},e=[]},f42c:function(t,n,a){"use strict";a.r(n);var i=a("d6c7"),e=a("9a44");for(var o in e)["default"].indexOf(o)<0&&function(t){a.d(n,t,(function(){return e[t]}))}(o);a("34e8");var c=a("f0c5"),r=Object(c["a"])(e["default"],i["b"],i["c"],!1,null,"328b7c29",null,!1,i["a"],void 0);n["default"]=r.exports},f6cc:function(t,n,a){var i=a("24fb");n=i(!1),n.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */\n/*\n 以下变量是默认值，如不需要修改可以不用给下面的变量重新赋值\n */\n/* 水平间距 */.container[data-v-328b7c29]{height:calc(100vh - 44px);background-color:#fff}.container .form-box[data-v-328b7c29]{padding:%?30?%}.container .form-box .row[data-v-328b7c29]{display:flex;align-items:center;justify-content:flex-start;margin-bottom:%?30?%}.container .form-box .row .title[data-v-328b7c29]{width:%?120?%;font-size:%?28?%}.container .form-box .row .input[data-v-328b7c29]{flex:1;font-size:%?28?%;height:%?70?%;border:1px solid #f0f0f0;padding:0 %?20?%}.container .form-box .row uni-picker[data-v-328b7c29]{flex:1}.container .form-box .switch-box[data-v-328b7c29]{justify-content:space-between}.container .form-box .btn[data-v-328b7c29]{width:100%;height:%?80?%;line-height:%?80?%;background-color:#009000;border-radius:%?50?%;color:#fff;margin-top:%?50?%;font-size:%?35?%}.container .form-box .btn2[data-v-328b7c29]{margin-top:%?30?%;background-color:#e43d33}',""]),t.exports=n}}]);