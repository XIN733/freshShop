(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-createAddress"],{1206:function(t,a,n){"use strict";n.d(a,"b",(function(){return i})),n.d(a,"c",(function(){return e})),n.d(a,"a",(function(){}));var i=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("v-uni-view",{staticClass:"container"},[n("v-uni-view",{staticClass:"form-box"},[n("v-uni-view",{staticClass:"row"},[n("v-uni-view",{staticClass:"title"},[t._v("联系人")]),n("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入联系人",value:t.info.name,"data-label":"name"},on:{input:function(a){arguments[0]=a=t.$handleEvent(a),t.inputValue.apply(void 0,arguments)}}})],1),n("v-uni-view",{staticClass:"row"},[n("v-uni-view",{staticClass:"title"},[t._v("手机号")]),n("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入手机号",value:t.info.mobile,"data-label":"mobile"},on:{input:function(a){arguments[0]=a=t.$handleEvent(a),t.inputValue.apply(void 0,arguments)}}})],1),n("v-uni-view",{staticClass:"row"},[n("v-uni-view",{staticClass:"title"},[t._v("省份")]),n("v-uni-picker",{attrs:{mode:"selector",range:t.provinceData,value:t.provinceIndex},on:{change:function(a){arguments[0]=a=t.$handleEvent(a),t.provinceChang.apply(void 0,arguments)}}},[n("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请选择省份",value:t.info.province}})],1)],1),n("v-uni-view",{staticClass:"row"},[n("v-uni-view",{staticClass:"title"},[t._v("城市")]),t.info.province?n("v-uni-picker",{attrs:{mode:"selector",range:t.cityData,value:t.cityIndex},on:{change:function(a){arguments[0]=a=t.$handleEvent(a),t.cityChang.apply(void 0,arguments)}}},[n("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请选择城市",value:t.info.city}})],1):n("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请选择城市",disabled:"true"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),!t.info.province&&t.areaClick(1)}}})],1),n("v-uni-view",{staticClass:"row"},[n("v-uni-view",{staticClass:"title"},[t._v("区县")]),t.info.city?n("v-uni-picker",{attrs:{mode:"selector",range:t.countyData,value:t.countyIndex},on:{change:function(a){arguments[0]=a=t.$handleEvent(a),t.countyChang.apply(void 0,arguments)}}},[n("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请选择区县",value:t.info.county}})],1):n("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请选择区县",disabled:"true"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),!t.info.city&&t.areaClick(2)}}})],1),n("v-uni-view",{staticClass:"row"},[n("v-uni-view",{staticClass:"title"},[t._v("门牌号")]),n("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入门牌号",value:t.info.address,"data-label":"address"},on:{input:function(a){arguments[0]=a=t.$handleEvent(a),t.inputValue.apply(void 0,arguments)}}})],1),n("v-uni-view",{staticClass:"row switch-box"},[n("v-uni-view",{staticClass:"title"},[t._v("设为默认")]),n("v-uni-switch",{attrs:{checked:t.info.is_default,color:"#009000"},on:{change:function(a){arguments[0]=a=t.$handleEvent(a),t.switchChange.apply(void 0,arguments)}}})],1),n("v-uni-button",{staticClass:"btn",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.submit.apply(void 0,arguments)}}},[t._v("提交")])],1)],1)},e=[]},3052:function(t,a,n){var i=n("784c");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var e=n("4f06").default;e("707408e6",i,!0,{sourceMap:!1,shadowMode:!1})},"3da3":function(t,a,n){"use strict";n.r(a);var i=n("1206"),e=n("e21e");for(var o in e)["default"].indexOf(o)<0&&function(t){n.d(a,t,(function(){return e[t]}))}(o);n("9e1a");var c=n("f0c5"),r=Object(c["a"])(e["default"],i["b"],i["c"],!1,null,"0adcaa8e",null,!1,i["a"],void 0);a["default"]=r.exports},"784c":function(t,a,n){var i=n("24fb");a=i(!1),a.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */\n/*\n 以下变量是默认值，如不需要修改可以不用给下面的变量重新赋值\n */\n/* 水平间距 */.container[data-v-0adcaa8e]{height:calc(100vh - 44px);background-color:#fff}.container .form-box[data-v-0adcaa8e]{padding:%?30?%}.container .form-box .row[data-v-0adcaa8e]{display:flex;align-items:center;justify-content:flex-start;margin-bottom:%?30?%}.container .form-box .row .title[data-v-0adcaa8e]{width:%?120?%;font-size:%?28?%}.container .form-box .row .input[data-v-0adcaa8e]{flex:1;font-size:%?28?%;height:%?70?%;border:1px solid #f0f0f0;padding:0 %?20?%}.container .form-box .row uni-picker[data-v-0adcaa8e]{flex:1}.container .form-box .switch-box[data-v-0adcaa8e]{justify-content:space-between}.container .form-box .btn[data-v-0adcaa8e]{width:100%;height:%?80?%;line-height:%?80?%;background-color:#009000;border-radius:%?50?%;color:#fff;margin-top:%?50?%;font-size:%?35?%}',""]),t.exports=a},"9e1a":function(t,a,n){"use strict";var i=n("3052"),e=n.n(i);e.a},b89a:function(t,a,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,n("d81d"),n("ac1f"),n("00b4");var e=i(n("c7eb")),o=i(n("1da1")),c={data:function(){return{info:{address:"",city:"",city_id:"",county:"",county_id:"",is_default:!1,mobile:"",name:"",province:"",province_id:"",user_id:""},provinceData:[],provinceIdData:[],provinceIndex:0,cityData:[],cityIdData:[],cityIndex:0,countyData:[],countyIdData:[],countyIndex:0}},onLoad:function(t){},methods:{getProvinceData:function(){var t=this;return(0,o.default)((0,e.default)().mark((function a(){var n;return(0,e.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$api.user.getProvinceData();case 2:if(n=a.sent,200!=n.data.code){a.next=7;break}return t.provinceData=n.data.data.map((function(t){return t.name})),t.provinceIdData=n.data.data.map((function(t){return t.pid})),a.abrupt("return",!0);case 7:case"end":return a.stop()}}),a)})))()},getCityData:function(t){var a=this;return(0,o.default)((0,e.default)().mark((function n(){var i;return(0,e.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a.$api.user.getCityData(t);case 2:if(i=n.sent,200!=i.data.code){n.next=7;break}return a.cityData=i.data.data.map((function(t){return t.name})),a.cityIdData=i.data.data.map((function(t){return t.cid})),n.abrupt("return",!0);case 7:case"end":return n.stop()}}),n)})))()},getCountyData:function(t){var a=this;return(0,o.default)((0,e.default)().mark((function n(){var i;return(0,e.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a.$api.user.getCountyData(t);case 2:if(i=n.sent,200!=i.data.code){n.next=7;break}return a.countyData=i.data.data.map((function(t){return t.name})),a.countyIdData=i.data.data.map((function(t){return t.yzid})),n.abrupt("return",!0);case 7:case"end":return n.stop()}}),n)})))()},createAddress:function(t){var a=this;return(0,o.default)((0,e.default)().mark((function n(){var i;return(0,e.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a.$api.user.createAddress(t);case 2:i=n.sent,200==i.data.code&&(uni.showToast({title:"添加成功",icon:"success"}),setTimeout((function(t){uni.navigateBack()}),1e3));case 4:case"end":return n.stop()}}),n)})))()},provinceChang:function(t){this.cityData=[],this.cityIdData=[],this.cityIndex=0,this.countyData=[],this.countyIdData=[],this.countyIndex=0;var a=t.detail.value,n=this.provinceData[a],i=this.provinceIdData[a];this.provinceIndex=a,this.info.province=n,this.info.province_id=i,this.info.city="",this.info.city_id="",this.info.county="",this.info.county_id="",this.getCityData(i)},cityChang:function(t){this.countyData=[],this.countyIdData=[],this.countyIndex=0;var a=t.detail.value,n=this.cityData[a],i=this.cityIdData[a];this.cityIndex=a,this.info.city=n,this.info.city_id=i,this.info.county="",this.info.county_id="",this.getCountyData(i)},countyChang:function(t){var a=t.detail.value,n=this.countyData[a],i=this.countyIdData[a];this.countyIndex=a,this.info.county=n,this.info.county_id=i},areaClick:function(t){1==t?uni.showToast({title:"请先选择省份",icon:"error"}):uni.showToast({title:"请先选择城市",icon:"error"})},switchChange:function(t){this.info.is_default=t.detail.value},inputValue:function(t){this.info[t.currentTarget.dataset.label]=t.detail.value},submit:function(){var t=this.info.name,a=this.info.mobile,n=this.info.province,i=this.info.city,e=this.info.county,o=this.info.address;t?a?/^1[3-9]\d{9}$/.test(a)?n?i?e?o?this.createAddress(this.info):uni.showToast({title:"门牌号不能为空",icon:"error"}):uni.showToast({title:"请选择区县",icon:"error"}):uni.showToast({title:"请选择城市",icon:"error"}):uni.showToast({title:"请选择省份",icon:"error"}):uni.showToast({title:"手机号格式错误",icon:"error"}):uni.showToast({title:"手机号不能为空",icon:"error"}):uni.showToast({title:"联系人不能为空",icon:"error"})}},onShow:function(){this.getProvinceData(),this.info.user_id=uni.getStorageSync("userInfo").id}};a.default=c},e21e:function(t,a,n){"use strict";n.r(a);var i=n("b89a"),e=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(a,t,(function(){return i[t]}))}(o);a["default"]=e.a}}]);