(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-updata-setMobile"],{"17f6":function(e,t,n){"use strict";n.r(t);var o=n("c5d9"),a=n("543f");for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);n("2359");var r=n("f0c5"),u=Object(r["a"])(a["default"],o["b"],o["c"],!1,null,"0a2afde9",null,!1,o["a"],void 0);t["default"]=u.exports},2359:function(e,t,n){"use strict";var o=n("d7e1"),a=n.n(o);a.a},5397:function(e,t,n){"use strict";n("7a82");var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n("c7eb")),i=o(n("1da1")),r=o(n("5530")),u=n("26cb"),c={data:function(){return{formData:{mobile:"",code:"",code_confirmation:""},isMobile:!1,countDownNumber:60,isShowCountDown:!1,setInterval:""}},onLoad:function(e){console.log(e.mobile),""!==e.mobile&&(this.formData.mobile=e.mobile,this.isMobile=!0)},computed:(0,r.default)({},(0,u.mapState)(["userInfo"])),methods:(0,r.default)((0,r.default)({},(0,u.mapMutations)(["setUserInfo"])),{},{sendSms:function(){var e=this;return(0,i.default)((0,a.default)().mark((function t(){var n;return(0,a.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.user.sendSms(e.formData.mobile);case 2:n=t.sent,200==n.data.code&&(e.formData.code_confirmation=n.data.sms,e.countDown(),uni.showToast({title:n.data.message,icon:"success",duration:2e3}));case 4:case"end":return t.stop()}}),t)})))()},countDown:function(){var e=this;e.isShowCountDown=!0,this.setInterval=setInterval((function(){if(e.countDownNumber--,0==e.countDownNumber)return e.isShowCountDown=!1,e.formData.code_confirmation="",e.countDownNumber=60,void clearInterval(this.setInterval)}),1e3)},unbindMobile:function(){var e=this;return(0,i.default)((0,a.default)().mark((function t(){var n,o,i,r,u,c,s;return(0,a.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.formData,o=n.code,i=n.code_confirmation,r=e.userInfo,u={userId:r.id,code:o,code_confirmation:i,isExpires:!e.isShowCountDown},t.next=5,e.$api.user.unbindMobile(u);case 5:c=t.sent,200==c.data.code&&(r.mobile="",e.setUserInfo(r),uni.showToast({title:c.data.message,icon:"success",duration:2e3}),s=setTimeout((function(e){uni.navigateBack(),clearTimeout(s)}),500));case 7:case"end":return t.stop()}}),t)})))()},bindMobile:function(){var e=this;return(0,i.default)((0,a.default)().mark((function t(){var n,o,i,r,u,c,s,d;return(0,a.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.formData,o=n.mobile,i=n.code,r=n.code_confirmation,u=e.userInfo,c={userId:u.id,mobile:o,code:i,code_confirmation:r,isExpires:!e.isShowCountDown},t.next=5,e.$api.user.bindMobile(c);case 5:s=t.sent,200==s.data.code&&(u.mobile=c.mobile,e.setUserInfo(u),uni.showToast({title:s.data.message,icon:"success",duration:2e3}),d=setTimeout((function(e){uni.navigateBack(),clearTimeout(d)}),500));case 7:case"end":return t.stop()}}),t)})))()}}),onHide:function(){clearInterval(this.setInterval)}};t.default=c},"543f":function(e,t,n){"use strict";n.r(t);var o=n("5397"),a=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t["default"]=a.a},ba48:function(e,t,n){var o=n("24fb");t=o(!1),t.push([e.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */\n/*\n 以下变量是默认值，如不需要修改可以不用给下面的变量重新赋值\n */\n/* 水平间距 */.container[data-v-0a2afde9]{background-color:#fff;width:100%;height:100vh;padding:%?80?% %?50?% 0}.container[data-v-0a2afde9] .is-input-border{border-color:#e5e5e5!important}.container[data-v-0a2afde9] .uniui-clear{color:#c0c4cc!important}.container[data-v-0a2afde9] .uni-easyinput__content-input{height:%?70?%}.container uni-button[data-v-0a2afde9]{background-color:#009000;color:#fff}.container[data-v-0a2afde9] .uni-forms-item__content{display:flex}.container[data-v-0a2afde9] .uni-forms-item__content uni-button{margin-left:%?20?%;height:%?75?%;line-height:%?75?%;font-size:%?28?%;width:%?200?%}.container uni-button[data-v-0a2afde9]{background-color:#009000;color:#fff}.container .count-down[data-v-0a2afde9]{background-color:#c7c7c7!important}',""]),e.exports=t},c5d9:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o}));var o={uniForms:n("082c").default,uniFormsItem:n("05d2").default,uniEasyinput:n("1736").default},a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"container"},[n("uni-forms",{ref:"baseForm",attrs:{modelValue:e.formData}},[n("uni-forms-item",[n("uni-easyinput",{attrs:{prefixIcon:"phone",disabled:e.isMobile,placeholder:"请输入手机号"},model:{value:e.formData.mobile,callback:function(t){e.$set(e.formData,"mobile",t)},expression:"formData.mobile"}})],1),n("uni-forms-item",{staticClass:"code-box"},[n("uni-easyinput",{attrs:{prefixIcon:"chat",placeholder:"请输入验证码"},model:{value:e.formData.code,callback:function(t){e.$set(e.formData,"code",t)},expression:"formData.code"}}),e.isShowCountDown?n("v-uni-button",{staticClass:"count-down"},[e._v(e._s(e.countDownNumber)+"秒")]):n("v-uni-button",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.sendSms.apply(void 0,arguments)}}},[e._v("获取验证码")])],1)],1),e.isMobile?n("v-uni-button",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.unbindMobile.apply(void 0,arguments)}}},[e._v("解绑手机号")]):n("v-uni-button",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.bindMobile.apply(void 0,arguments)}}},[e._v("绑定手机号")])],1)},i=[]},d7e1:function(e,t,n){var o=n("ba48");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=n("4f06").default;a("d1f9c3c8",o,!0,{sourceMap:!1,shadowMode:!1})}}]);