(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-register"],{2441:function(e,t,r){"use strict";var o=r("64b0"),s=r.n(o);s.a},"64b0":function(e,t,r){var o=r("aa04");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var s=r("4f06").default;s("4ce94a36",o,!0,{sourceMap:!1,shadowMode:!1})},7654:function(e,t,r){"use strict";r("7a82");var o=r("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=o(r("c7eb")),i=o(r("1da1")),a={data:function(){return{registerForm:{username:"",email:"",password:"",password_confirmation:""},rules:{username:{rules:[{required:!0,errorMessage:"用户名不能为空"}]},email:{rules:[{required:!0,errorMessage:"邮箱不能为空"},{pattern:"^\\S+?@\\S+?\\.\\S+?$",errorMessage:"邮箱格式错误"}]},password:{rules:[{required:!0,errorMessage:"密码不能为空"}]},password_confirmation:{rules:[{required:!0,errorMessage:"确认密码不能为空"}]}},showPassword:!0,showPasswordConfirmation:!0}},watch:{"registerForm.password":function(e,t){e||(this.showPassword=!0)},"registerForm.password_confirmation":function(e,t){e||(this.showPasswordConfirmation=!0)}},methods:{changePassword:function(e){1==e?this.showPassword=!this.showPassword:this.showPasswordConfirmation=!this.showPasswordConfirmation},clickRegister:function(){var e=this;this.$refs.registerForm.validate().then((function(t){var r=e.registerForm.password,o=e.registerForm.password_confirmation;r==o?e.submitRegister():uni.showToast({title:"密码不一致",icon:"error",duration:2e3})})).catch((function(e){console.log("err",e)}))},submitRegister:function(){var e=this;return(0,i.default)((0,s.default)().mark((function t(){var r,o,i;return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=function(e){var t=e.username,r=e.email,o=e.password;return{username:t,email:r,password:o}}(e.registerForm),t.next=3,e.$api.user.register(r);case 3:o=t.sent,200===o.data.code&&(uni.showToast({title:o.data.message,icon:"none",duration:2e3}),i=setTimeout((function(){e.toLogin(),clearTimeout(i)}),1e3));case 5:case"end":return t.stop()}}),t)})))()},toLogin:function(){uni.redirectTo({url:"/pages/user/login"})}}};t.default=a},"9f07":function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return o}));var o={uniForms:r("082c").default,uniFormsItem:r("05d2").default,uniIcons:r("dd21").default},s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",{staticClass:"container"},[r("v-uni-image",{staticClass:"bg1",attrs:{src:"http://localhost:3000/public/images/bj/bg1.png",mode:"widthFix"}}),r("v-uni-image",{staticClass:"bg2",attrs:{src:"http://localhost:3000/public/images/bj/bg2.png",mode:"widthFix"}}),r("v-uni-view",{staticClass:"form-box"},[r("v-uni-view",{staticClass:"title"},[e._v("用户注册")]),r("uni-forms",{ref:"registerForm",attrs:{rules:e.rules,modelValue:e.registerForm}},[r("uni-forms-item",{staticClass:"input-box",attrs:{name:"username"}},[r("v-uni-input",{staticClass:"input",attrs:{type:"text","label-width":"",placeholder:"请输入用户名"},model:{value:e.registerForm.username,callback:function(t){e.$set(e.registerForm,"username",t)},expression:"registerForm.username"}})],1),r("uni-forms-item",{staticClass:"input-box",attrs:{name:"email"}},[r("v-uni-input",{staticClass:"input",attrs:{type:"text","label-width":"",placeholder:"请输入邮箱"},model:{value:e.registerForm.email,callback:function(t){e.$set(e.registerForm,"email",t)},expression:"registerForm.email"}})],1),r("uni-forms-item",{staticClass:"input-box",attrs:{name:"password"}},[r("v-uni-input",{staticClass:"input",attrs:{placeholder:"请输入密码",password:e.showPassword},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}}),r("uni-icons",{directives:[{name:"show",rawName:"v-show",value:e.registerForm.password,expression:"registerForm.password"}],staticClass:"icon",attrs:{type:e.showPassword?"eye-filled":"eye-slash-filled",color:e.showPassword?"#009000":"#999",size:"25"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.changePassword(1)}}})],1),r("uni-forms-item",{staticClass:"input-box",attrs:{name:"password_confirmation"}},[r("v-uni-input",{staticClass:"input",attrs:{placeholder:"请输入确认密码",password:e.showPasswordConfirmation},model:{value:e.registerForm.password_confirmation,callback:function(t){e.$set(e.registerForm,"password_confirmation",t)},expression:"registerForm.password_confirmation"}}),r("uni-icons",{directives:[{name:"show",rawName:"v-show",value:e.registerForm.password_confirmation,expression:"registerForm.password_confirmation"}],staticClass:"icon",attrs:{type:e.showPasswordConfirmation?"eye-filled":"eye-slash-filled",color:e.showPasswordConfirmation?"#009000":"#999",size:"25"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.changePassword(2)}}})],1)],1),r("v-uni-button",{staticClass:"btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clickRegister.apply(void 0,arguments)}}},[e._v("注册")]),r("v-uni-view",{staticClass:"tip2",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toLogin.apply(void 0,arguments)}}},[e._v("已有账号？"),r("v-uni-text",[e._v("点击登录！")])],1)],1)],1)},i=[]},aa04:function(e,t,r){var o=r("24fb");t=o(!1),t.push([e.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */\n/*\n 以下变量是默认值，如不需要修改可以不用给下面的变量重新赋值\n */\n/* 水平间距 */.container[data-v-a2551fe6]{width:100%;min-height:100vh;background-color:#fff;position:relative}.container .bg1[data-v-a2551fe6]{position:absolute;top:0;left:0;width:100%;z-index:1}.container .bg2[data-v-a2551fe6]{position:absolute;bottom:%?100?%;left:calc(50% - %?170?%);width:%?350?%;z-index:1}.container .form-box[data-v-a2551fe6]{position:absolute;top:calc(50% - %?330?%);left:0;z-index:2;width:100%;padding:0 %?50?%;text-align:center}.container .form-box .title[data-v-a2551fe6]{font-size:%?50?%;color:#009000;font-weight:700;display:inline-block;margin-bottom:%?20?%}.container .form-box .input-box[data-v-a2551fe6]{width:100%;margin-top:%?40?%;position:relative}.container .form-box .input-box .input[data-v-a2551fe6]{width:100%;height:%?80?%;border:1px solid #009000;border-radius:%?8?%;text-align:left;padding:0 %?30?%;font-size:%?28?%}.container .form-box .input-box .icon[data-v-a2551fe6]{position:absolute;top:calc(50% - %?20?%);right:%?20?%}.container .form-box .btn[data-v-a2551fe6]{width:100%;height:%?80?%;line-height:%?80?%;background-color:#009000;border-radius:%?50?%;color:#fff;margin-top:%?50?%;font-size:%?35?%}.container .form-box .tip2[data-v-a2551fe6]{font-size:%?26?%;color:#909399;position:fixed;bottom:%?15?%;left:0;width:100%;padding:%?20?% 0}.container .form-box .tip2 uni-text[data-v-a2551fe6]{color:#009000}',""]),e.exports=t},e093:function(e,t,r){"use strict";r.r(t);var o=r("7654"),s=r.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=s.a},f19f:function(e,t,r){"use strict";r.r(t);var o=r("9f07"),s=r("e093");for(var i in s)["default"].indexOf(i)<0&&function(e){r.d(t,e,(function(){return s[e]}))}(i);r("2441");var a=r("f0c5"),n=Object(a["a"])(s["default"],o["b"],o["c"],!1,null,"a2551fe6",null,!1,o["a"],void 0);t["default"]=n.exports}}]);