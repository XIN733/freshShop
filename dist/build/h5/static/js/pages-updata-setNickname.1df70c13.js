(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-updata-setNickname"],{"3a56":function(n,e,a){var t=a("d1fb");t.__esModule&&(t=t.default),"string"===typeof t&&(t=[[n.i,t,""]]),t.locals&&(n.exports=t.locals);var i=a("4f06").default;i("d96becc2",t,!0,{sourceMap:!1,shadowMode:!1})},"716a":function(n,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return c})),a.d(e,"a",(function(){return t}));var t={uniForms:a("082c").default,uniFormsItem:a("05d2").default,uniEasyinput:a("1736").default},i=function(){var n=this,e=n.$createElement,a=n._self._c||e;return a("v-uni-view",{staticClass:"container"},[a("uni-forms",{ref:"baseForm",attrs:{modelValue:n.formData}},[a("uni-forms-item",[a("uni-easyinput",{attrs:{prefixIcon:"person",placeholder:"请输入昵称"},model:{value:n.formData.nickname,callback:function(e){n.$set(n.formData,"nickname",e)},expression:"formData.nickname"}})],1)],1),a("v-uni-button",{on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.setNickname.apply(void 0,arguments)}}},[n._v("保存")])],1)},c=[]},9700:function(n,e,a){"use strict";a("7a82");var t=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=t(a("c7eb")),c=t(a("1da1")),r=t(a("5530")),o=a("26cb"),u={data:function(){return{formData:{nickname:""}}},onLoad:function(n){this.formData.nickname="undefined"==n.nickname?"":n.nickname},methods:(0,r.default)((0,r.default)({},(0,o.mapMutations)(["setUserInfo"])),{},{setNickname:function(){var n=this;return(0,c.default)((0,i.default)().mark((function e(){var a,t,c,r;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n.formData.nickname){e.next=13;break}if(a=uni.getStorageSync("userInfo"),n.formData.nickname===a.nickname){e.next=10;break}return t={userId:a.id,nickname:n.formData.nickname},e.next=6,n.$api.user.setNickname(t);case 6:c=e.sent,200==c.data.code&&(a.nickname=t.nickname,n.setUserInfo(a),uni.showToast({title:c.data.message,icon:"success",duration:2e3}),r=setTimeout((function(n){uni.navigateBack(),clearTimeout(r)}),500)),e.next=11;break;case 10:uni.navigateBack();case 11:e.next=14;break;case 13:uni.showToast({title:"昵称不能为空",icon:"error",duration:2e3});case 14:case"end":return e.stop()}}),e)})))()}})};e.default=u},cbcd:function(n,e,a){"use strict";a.r(e);var t=a("716a"),i=a("ff85");for(var c in i)["default"].indexOf(c)<0&&function(n){a.d(e,n,(function(){return i[n]}))}(c);a("d17a");var r=a("f0c5"),o=Object(r["a"])(i["default"],t["b"],t["c"],!1,null,"637c8e10",null,!1,t["a"],void 0);e["default"]=o.exports},d17a:function(n,e,a){"use strict";var t=a("3a56"),i=a.n(t);i.a},d1fb:function(n,e,a){var t=a("24fb");e=t(!1),e.push([n.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */\n/*\n 以下变量是默认值，如不需要修改可以不用给下面的变量重新赋值\n */\n/* 水平间距 */.container[data-v-637c8e10]{background-color:#fff;width:100%;height:100vh;padding:%?80?% %?50?% 0}.container[data-v-637c8e10] .is-input-border{border-color:#e5e5e5!important}.container[data-v-637c8e10] .uniui-clear{color:#c0c4cc!important}.container[data-v-637c8e10] .uni-easyinput__content-input{height:%?70?%}.container uni-button[data-v-637c8e10]{background-color:#009000;color:#fff}',""]),n.exports=e},ff85:function(n,e,a){"use strict";a.r(e);var t=a("9700"),i=a.n(t);for(var c in t)["default"].indexOf(c)<0&&function(n){a.d(e,n,(function(){return t[n]}))}(c);e["default"]=i.a}}]);