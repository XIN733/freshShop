(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-submit"],{"58e4":function(t,e,a){var o=a("a1c9");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=a("4f06").default;i("3fd01945",o,!0,{sourceMap:!1,shadowMode:!1})},"9a57":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return o}));var o={uniList:a("c159").default,uniListItem:a("17bb").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"container"},[a("v-uni-view",{staticClass:"address"},[a("uni-list",[a("uni-list-item",{attrs:{showArrow:!0,title:t.addressInfo,note:t.nameInfo,rightText:"选择","show-extra-icon":!0,"extra-icon":t.Icon,clickable:!0,to:"/pages/order/selectAddress"}})],1)],1),a("v-uni-view",{staticClass:"goods"},t._l(t.goods,(function(e){return a("v-uni-view",{key:e.cart_goods_id,staticClass:"item"},[a("v-uni-view",{staticClass:"left"},[a("v-uni-image",{staticClass:"img",attrs:{src:e.goods.image,mode:""}}),a("v-uni-view",{staticClass:"info"},[a("v-uni-view",{staticClass:"name"},[t._v(t._s(e.goods.title))]),a("v-uni-view",{staticClass:"number"},[t._v(t._s(e.goods.price+" x "+e.number+"件"))])],1)],1),a("v-uni-view",{staticClass:"price"},[t._v(t._s((e.goods.price*e.number).toFixed(2))+" 元")])],1)})),1),a("v-uni-view",{staticClass:"bot-box"},[a("v-uni-view",{staticClass:"price-box"},[a("v-uni-text",{staticClass:"text1"},[t._v("合计:")]),a("v-uni-text",{staticClass:"text2"},[t._v("￥")]),a("v-uni-text",{staticClass:"price"},[t._v(t._s(t.total.toFixed(2))+"元")])],1),a("v-uni-button",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submitOrder.apply(void 0,arguments)}}},[t._v("提交订单")])],1)],1)},n=[]},a1c9:function(t,e,a){var o=a("24fb");e=o(!1),e.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */\n/*\n 以下变量是默认值，如不需要修改可以不用给下面的变量重新赋值\n */\n/* 水平间距 */.container[data-v-5faa79a4]{padding-bottom:%?110?%}.container .goods[data-v-5faa79a4]{padding:0 %?30?% 0 %?20?%;background-color:#fff}.container .goods .item[data-v-5faa79a4]{display:flex;align-items:center;justify-content:space-between;padding:%?20?% 0;border-bottom:1px solid #eaedef}.container .goods .item[data-v-5faa79a4]:last-child{border:0}.container .goods .item .left[data-v-5faa79a4]{display:flex;align-items:center}.container .goods .item .left .img[data-v-5faa79a4]{width:%?150?%;height:%?150?%}.container .goods .item .left .info[data-v-5faa79a4]{margin-left:%?20?%}.container .goods .item .left .info .name[data-v-5faa79a4]{font-size:%?30?%}.container .goods .item .left .info .number[data-v-5faa79a4]{font-size:%?26?%;color:#909399;margin-top:%?10?%}.container .goods .item .price[data-v-5faa79a4]{font-size:%?28?%;color:#ff557f}.container .bot-box[data-v-5faa79a4]{width:100%;position:fixed;left:0;bottom:0;height:%?100?%;display:flex;align-items:center;justify-content:space-between;padding:0 %?28?%;background-color:#f5f5f5}.container .bot-box .price-box .text1[data-v-5faa79a4]{font-size:%?24?%;margin-right:%?10?%}.container .bot-box .price-box .text2[data-v-5faa79a4]{font-size:%?26?%;font-weight:700;color:#ff557f}.container .bot-box .price-box .price[data-v-5faa79a4]{font-size:%?32?%;font-weight:700;color:#ff557f;font-family:雅黑}.container .bot-box .btn[data-v-5faa79a4]{width:%?300?%;height:%?75?%;line-height:%?75?%;background-color:#009000;border-radius:%?50?%;color:#fff;font-size:%?35?%;margin-left:%?20?%}',""]),t.exports=e},b095:function(t,e,a){"use strict";a("7a82");var o=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("4de4"),a("d3b7"),a("99af"),a("159b"),a("14d9");var i=o(a("c7eb")),n=o(a("1da1")),s=o(a("5530")),r=a("26cb"),d={data:function(){return{address:{},Icon:{color:"#4cd964",size:"22",type:"location-filled"},goods:[],addrId:""}},computed:(0,s.default)((0,s.default)((0,s.default)({},(0,r.mapState)(["cartGoodsList","addressList"])),(0,r.mapGetters)(["defaultAddress","total"])),{},{addressInfo:function(){return this.address.province+this.address.city+this.address.county+this.address.address},nameInfo:function(){return this.address.name+" "+this.address.mobile}}),onLoad:function(t){},methods:{getGoodsInfo:function(){this.goods=this.cartGoodsList.filter((function(t){return 1==t.is_checked}))},createOrder:function(t){var e=this;return(0,n.default)((0,i.default)().mark((function a(){var o,n;return(0,i.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$api.order.createOrder(t);case 2:o=a.sent,200===o.data.code&&(uni.showToast({title:"提交成功",duration:1500}),n=o.data.data.order_code,setTimeout((function(){uni.navigateTo({url:"/pages/order/pay?id=".concat(n,"&&price=").concat(e.total)})}),1500));case 4:case"end":return a.stop()}}),a)})))()},submitOrder:function(){var t=this;return(0,n.default)((0,i.default)().mark((function e(){var a;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a={address:t.addressInfo,amount:t.total,user_id:t.address.user_id,ordergoods_set:[]},t.goods.forEach((function(e,o){var i={goods:e.goods,number:e.number,price:e.goods.price};a.ordergoods_set.push(i),o==t.goods.length-1&&t.createOrder(a)}));case 2:case"end":return e.stop()}}),e)})))()}},onShow:function(){var t=this;this.getGoodsInfo(),this.addrId?this.addressList.forEach((function(e){e.id==t.addrId&&(t.address=e)})):this.address=this.defaultAddress}};e.default=d},c63f:function(t,e,a){"use strict";a.r(e);var o=a("b095"),i=a.n(o);for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(n);e["default"]=i.a},e388:function(t,e,a){"use strict";a.r(e);var o=a("9a57"),i=a("c63f");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("e5f8");var s=a("f0c5"),r=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,"5faa79a4",null,!1,o["a"],void 0);e["default"]=r.exports},e5f8:function(t,e,a){"use strict";var o=a("58e4"),i=a.n(o);i.a}}]);