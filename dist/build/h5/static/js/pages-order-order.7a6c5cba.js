(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-order"],{"0a02":function(t,e,a){"use strict";a.r(e);var n=a("8afa"),i=a.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=i.a},"0cea":function(t,e,a){var n=a("7c33");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("2f721a5e",n,!0,{sourceMap:!1,shadowMode:!1})},"3b0d":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return n}));var n={uniIcons:a("dd21").default,uniCard:a("3e00").default,uniDateformat:a("6027").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"container"},[a("v-uni-view",{staticClass:"tops"},[a("v-uni-view",{class:1==t.showStatus?"tab active":"tab",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.updataShow(1)}}},[a("uni-icons",{attrs:{type:"wallet",size:"30",color:"#ffaa00"}}),a("v-uni-view",{staticClass:"text"},[t._v("待付款")])],1),a("v-uni-view",{class:2==t.showStatus?"tab active":"tab",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.updataShow(2)}}},[a("uni-icons",{attrs:{type:"shop",size:"30",color:"#aa007f"}}),a("v-uni-view",{staticClass:"text"},[t._v("待发货")])],1),a("v-uni-view",{class:4==t.showStatus?"tab active":"tab",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.updataShow(4)}}},[a("uni-icons",{attrs:{type:"chatboxes",size:"30",color:"#00aaff"}}),a("v-uni-view",{staticClass:"text"},[t._v("待评价")])],1),a("v-uni-view",{class:0==t.showStatus?"tab active":"tab",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.updataShow(0)}}},[a("uni-icons",{attrs:{type:"calendar",size:"30",color:"#55aa7f"}}),a("v-uni-view",{staticClass:"text"},[t._v("全部")])],1)],1),a("v-uni-view",{staticClass:"list"},t._l(0==t.showStatus?t.orderList:t.showOrder,(function(e){return a("uni-card",{key:e.id,staticClass:"item",scopedSlots:t._u([{key:"title",fn:function(){return[a("v-uni-view",{staticClass:"cart-top"},[a("v-uni-text",{staticClass:"left"},[t._v("订单编号："+t._s(e.order_code))]),1==e.status?a("v-uni-text",{staticClass:"right",staticStyle:{color:"#e43d33"}},[t._v("待支付")]):t._e(),2==e.status?a("v-uni-text",{staticClass:"right",staticStyle:{color:"#ffaa00"}},[t._v("待发货")]):t._e(),4==e.status?a("v-uni-text",{staticClass:"right",staticStyle:{color:"#00aaff"}},[t._v("待评价")]):t._e()],1)]},proxy:!0},{key:"actions",fn:function(){return[a("v-uni-view",{staticClass:"cart-bot"},[a("v-uni-view",{staticClass:"left"},[a("v-uni-text",[t._v("创建时间：")]),a("uni-dateformat",{attrs:{date:e.create_time}})],1),a("v-uni-view",{staticClass:"right"},[1==e.status?a("v-uni-button",{staticClass:"btn",attrs:{plain:!0,size:"mini",type:"warn"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.closeOrder(e.id)}}},[t._v("取消")]):t._e(),1==e.status?a("v-uni-button",{staticClass:"btn",attrs:{size:"mini",type:"primary"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.toPay(e.order_code,e.amount)}}},[t._v("去支付")]):t._e(),4==e.status?a("v-uni-button",{staticClass:"btn",attrs:{size:"mini",type:"primary"}},[t._v("去评价")]):t._e()],1)],1)]},proxy:!0}],null,!0)},[a("v-uni-view",{staticClass:"cart-goods"},[t._l(e.ordergoods_set,(function(e){return a("v-uni-view",{key:e.goods.id,staticClass:"goods"},[a("v-uni-view",{staticClass:"left"},[a("v-uni-image",{staticClass:"img",attrs:{src:e.goods.image,mode:""}}),a("v-uni-view",{staticClass:"info"},[a("v-uni-view",{staticClass:"name"},[t._v(t._s(e.goods.title))]),a("v-uni-view",{staticClass:"price"},[t._v("￥"+t._s(e.price))])],1)],1),a("v-uni-view",{staticClass:"number"},[t._v("x "+t._s(e.number))])],1)})),a("v-uni-view",{staticClass:"text-box"},[t._v("总计"+t._s(e.ordergoods_set.length)+"件商品，实付款"),a("v-uni-text",{staticClass:"text"},[t._v(t._s(e.amount))]),t._v("元")],1)],2)],1)})),1)],1)},r=[]},"3e00":function(t,e,a){"use strict";a.r(e);var n=a("d234"),i=a("3eec");for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);a("7208");var o=a("f0c5"),s=Object(o["a"])(i["default"],n["b"],n["c"],!1,null,"226d96c2",null,!1,n["a"],void 0);e["default"]=s.exports},"3eec":function(t,e,a){"use strict";a.r(e);var n=a("b52a"),i=a.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=i.a},"41a1":function(t,e,a){"use strict";a.r(e);var n=a("a38f"),i=a.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=i.a},"4e95":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){}));var n=function(){var t=this.$createElement,e=this._self._c||t;return e("v-uni-text",[this._v(this._s(this.dateShow))])},i=[]},6027:function(t,e,a){"use strict";a.r(e);var n=a("4e95"),i=a("0a02");for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);var o=a("f0c5"),s=Object(o["a"])(i["default"],n["b"],n["c"],!1,null,"690ab064",null,!1,n["a"],void 0);e["default"]=s.exports},7208:function(t,e,a){"use strict";var n=a("0cea"),i=a.n(n);i.a},"7c33":function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */\n/*\n 以下变量是默认值，如不需要修改可以不用给下面的变量重新赋值\n */\n/* 水平间距 */.uni-card[data-v-226d96c2]{margin:10px;padding:0 8px;border-radius:4px;overflow:hidden;font-family:Helvetica Neue,Helvetica,PingFang SC,Hiragino Sans GB,Microsoft YaHei,SimSun,sans-serif;background-color:#fff;flex:1}.uni-card .uni-card__cover[data-v-226d96c2]{position:relative;margin-top:10px;flex-direction:row;overflow:hidden;border-radius:4px}.uni-card .uni-card__cover .uni-card__cover-image[data-v-226d96c2]{flex:1;vertical-align:middle}.uni-card .uni-card__header[data-v-226d96c2]{display:flex;border-bottom:1px #dcdcdc solid;flex-direction:row;align-items:center;padding:10px;overflow:hidden}.uni-card .uni-card__header .uni-card__header-box[data-v-226d96c2]{display:flex;flex:1;flex-direction:row;align-items:center;overflow:hidden}.uni-card .uni-card__header .uni-card__header-avatar[data-v-226d96c2]{width:40px;height:40px;overflow:hidden;border-radius:5px;margin-right:10px}.uni-card .uni-card__header .uni-card__header-avatar .uni-card__header-avatar-image[data-v-226d96c2]{flex:1;width:40px;height:40px}.uni-card .uni-card__header .uni-card__header-content[data-v-226d96c2]{display:flex;flex-direction:column;justify-content:center;flex:1;overflow:hidden}.uni-card .uni-card__header .uni-card__header-content .uni-card__header-content-title[data-v-226d96c2]{font-size:15px;color:#3a3a3a}.uni-card .uni-card__header .uni-card__header-content .uni-card__header-content-subtitle[data-v-226d96c2]{font-size:12px;margin-top:5px;color:#909399}.uni-card .uni-card__header .uni-card__header-extra[data-v-226d96c2]{line-height:12px}.uni-card .uni-card__header .uni-card__header-extra .uni-card__header-extra-text[data-v-226d96c2]{font-size:12px;color:#909399}.uni-card .uni-card__content[data-v-226d96c2]{padding:10px;font-size:14px;color:#6a6a6a;line-height:22px}.uni-card .uni-card__actions[data-v-226d96c2]{font-size:12px}.uni-card--border[data-v-226d96c2]{border:1px solid #dcdcdc}.uni-card--shadow[data-v-226d96c2]{position:relative;box-shadow:0 1px 8px 1px hsla(0,0%,64.7%,.2)}.uni-card--full[data-v-226d96c2]{margin:0;border-left-width:0;border-left-width:0;border-radius:0}.uni-card--full[data-v-226d96c2]:after{border-radius:0}.uni-ellipsis[data-v-226d96c2]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}',""]),t.exports=e},"8afa":function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3"),a("e25e");var n=a("f292"),i={name:"uniDateformat",props:{date:{type:[Object,String,Number],default:function(){return"-"}},locale:{type:String,default:"zh"},threshold:{type:Array,default:function(){return[0,0]}},format:{type:String,default:"yyyy/MM/dd hh:mm:ss"},refreshRate:{type:[Number,String],default:0}},data:function(){return{refreshMark:0}},computed:{dateShow:function(){return this.refreshMark,(0,n.friendlyDate)(this.date,{locale:this.locale,threshold:this.threshold,format:this.format})}},watch:{refreshRate:{handler:function(){this.setAutoRefresh()},immediate:!0}},methods:{refresh:function(){this.refreshMark++},setAutoRefresh:function(){var t=this;clearInterval(this.refreshInterval),this.refreshRate&&(this.refreshInterval=setInterval((function(){t.refresh()}),parseInt(this.refreshRate)))}}};e.default=i},a005:function(t,e,a){"use strict";var n=a("cbce"),i=a.n(n);i.a},a38f:function(t,e,a){"use strict";a("7a82");var n=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("c7eb")),r=n(a("1da1"));a("4de4"),a("d3b7"),a("159b"),a("4e82"),a("99af");var o={data:function(){return{orderList:[],showStatus:0,optionsStatus:0}},onLoad:function(t){t.status&&(this.optionsStatus=t.status)},computed:{showOrder:function(){var t=this;return this.orderList.filter((function(e){return e.status==t.showStatus}))}},methods:{getOrderList:function(){var t=this;return(0,r.default)((0,i.default)().mark((function e(){var a,n;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=uni.getStorageSync("userInfo").id,e.next=3,t.$api.order.getOrderList(a);case 3:n=e.sent,200===n.data.code&&(n.data.data.forEach((function(t){t.ordergoods_set=JSON.parse(t.ordergoods_set),t.pay_time&&(t.pay_time=new Date(t.pay_time).getTime())})),t.orderList=n.data.data);case 5:case"end":return e.stop()}}),e)})))()},updataShow:function(t){this.showStatus=t,2==t&&this.showOrder.sort((function(t,e){return e.pay_time-t.pay_time}))},closeOrder:function(t){var e=this;return(0,r.default)((0,i.default)().mark((function a(){var n;return(0,i.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$api.order.closeOrder(t);case 2:n=a.sent,200===n.data.code&&(e.getOrderList(),uni.showToast({title:"取消成功"}));case 4:case"end":return a.stop()}}),a)})))()},toPay:function(t,e){uni.navigateTo({url:"/pages/order/pay?id=".concat(t,"&&price=").concat(e)})}},onShow:function(t){var e=this;this.getOrderList().then((function(t){e.optionsStatus&&e.updataShow(e.optionsStatus)}))}};e.default=o},b52a:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"UniCard",emits:["click"],props:{title:{type:String,default:""},subTitle:{type:String,default:""},padding:{type:String,default:"10px"},margin:{type:String,default:"15px"},spacing:{type:String,default:"0 10px"},extra:{type:String,default:""},cover:{type:String,default:""},thumbnail:{type:String,default:""},isFull:{type:Boolean,default:!1},isShadow:{type:Boolean,default:!0},shadow:{type:String,default:"0px 0px 3px 1px rgba(0, 0, 0, 0.08)"},border:{type:Boolean,default:!0}},methods:{onClick:function(t){this.$emit("click",t)}}};e.default=n},bf82:function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */\n/*\n 以下变量是默认值，如不需要修改可以不用给下面的变量重新赋值\n */\n/* 水平间距 */.container[data-v-c33d9b9a]{padding-bottom:%?30?%}.container .tops[data-v-c33d9b9a]{background-color:#fff;display:flex;align-items:center}.container .tops .tab[data-v-c33d9b9a]{display:flex;flex-direction:column;align-items:center;width:25%;padding:%?10?% 0}.container .tops .tab .text[data-v-c33d9b9a]{font-size:%?24?%;margin-top:%?10?%}.container .tops .active[data-v-c33d9b9a]{position:relative}.container .tops .active[data-v-c33d9b9a]::after{content:"";width:100%;height:%?4?%;background-color:#009000;position:absolute;bottom:0;left:0}.container .list .item .cart-top[data-v-c33d9b9a], .container .list .item .cart-bot[data-v-c33d9b9a]{display:flex;align-items:center;justify-content:space-between;padding:%?15?% 0}.container .list .item .cart-top[data-v-c33d9b9a]{font-weight:700;font-size:%?30?%;border-bottom:1px #eee solid}.container .list .item .cart-goods .goods[data-v-c33d9b9a]{display:flex;align-items:center;justify-content:space-between;padding:%?6?% 0}.container .list .item .cart-goods .goods .left[data-v-c33d9b9a]{display:flex;align-items:center}.container .list .item .cart-goods .goods .left .img[data-v-c33d9b9a]{width:%?120?%;height:%?120?%}.container .list .item .cart-goods .goods .left .info[data-v-c33d9b9a]{margin-left:%?20?%}.container .list .item .cart-goods .goods .left .info .name[data-v-c33d9b9a]{color:#333;font-size:%?30?%}.container .list .item .cart-goods .goods .left .info .price[data-v-c33d9b9a]{font-size:%?28?%;color:#ff557f;margin-top:%?10?%}.container .list .item .cart-goods .goods .number[data-v-c33d9b9a]{color:#909399}.container .list .item .cart-goods .text-box[data-v-c33d9b9a]{font-size:%?28?%;font-weight:700;text-align:right;padding:%?10?% 0}.container .list .item .cart-goods .text-box .text[data-v-c33d9b9a]{color:#ff557f}.container .list .item .cart-bot[data-v-c33d9b9a]{border-top:1px #eee solid;font-size:%?26?%;color:#909399}.container .list .item .cart-bot .right[data-v-c33d9b9a]{display:flex;align-items:center}.container .list .item .cart-bot .right .btn[data-v-c33d9b9a]{border-radius:%?50?%;margin-right:%?10?%}.container .list .item .cart-bot .right .btn[data-v-c33d9b9a]:last-child{margin:0}',""]),t.exports=e},c792:function(t,e,a){"use strict";a.r(e);var n=a("3b0d"),i=a("41a1");for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);a("a005");var o=a("f0c5"),s=Object(o["a"])(i["default"],n["b"],n["c"],!1,null,"c33d9b9a",null,!1,n["a"],void 0);e["default"]=s.exports},cbce:function(t,e,a){var n=a("bf82");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("7d74c5a5",n,!0,{sourceMap:!1,shadowMode:!1})},d234:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"uni-card",class:{"uni-card--full":t.isFull,"uni-card--shadow":t.isShadow,"uni-card--border":t.border},style:{margin:t.isFull?0:t.margin,padding:t.spacing,"box-shadow":t.isShadow?t.shadow:""}},[t._t("cover",[t.cover?a("v-uni-view",{staticClass:"uni-card__cover"},[a("v-uni-image",{staticClass:"uni-card__cover-image",attrs:{mode:"widthFix",src:t.cover},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClick("cover")}}})],1):t._e()]),t._t("title",[t.title||t.extra?a("v-uni-view",{staticClass:"uni-card__header"},[a("v-uni-view",{staticClass:"uni-card__header-box",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClick("title")}}},[t.thumbnail?a("v-uni-view",{staticClass:"uni-card__header-avatar"},[a("v-uni-image",{staticClass:"uni-card__header-avatar-image",attrs:{src:t.thumbnail,mode:"aspectFit"}})],1):t._e(),a("v-uni-view",{staticClass:"uni-card__header-content"},[a("v-uni-text",{staticClass:"uni-card__header-content-title uni-ellipsis"},[t._v(t._s(t.title))]),t.title&&t.subTitle?a("v-uni-text",{staticClass:"uni-card__header-content-subtitle uni-ellipsis"},[t._v(t._s(t.subTitle))]):t._e()],1)],1),a("v-uni-view",{staticClass:"uni-card__header-extra",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClick("extra")}}},[t._t("extra",[a("v-uni-text",{staticClass:"uni-card__header-extra-text"},[t._v(t._s(t.extra))])])],2)],1):t._e()]),a("v-uni-view",{staticClass:"uni-card__content",style:{padding:t.padding},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClick("content")}}},[t._t("default")],2),a("v-uni-view",{staticClass:"uni-card__actions",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClick("actions")}}},[t._t("actions")],2)],2)},i=[]},f292:function(t,e,a){"use strict";a("7a82");var n=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.formatDate=c,e.friendlyDate=function(t,e){var a=e.locale,n=void 0===a?"zh":a,i=e.threshold,r=void 0===i?[6e4,36e5]:i,o=e.format,d=void 0===o?"yyyy/MM/dd hh:mm:ss":o;if("-"===t)return t;if(!t&&0!==t)return"";var u,l,f={zh:{year:"年",month:"月",day:"天",hour:"小时",minute:"分钟",second:"秒",ago:"前",later:"后",justNow:"刚刚",soon:"马上",template:"{num}{unit}{suffix}"},en:{year:"year",month:"month",day:"day",hour:"hour",minute:"minute",second:"second",ago:"ago",later:"later",justNow:"just now",soon:"soon",template:"{num} {unit} {suffix}"}},v=f[n]||f.zh,h=s(t),p=h.getTime()-Date.now(),_=Math.abs(p);if(_<r[0])return p<0?v.justNow:v.soon;if(_>=r[1])return c(h,d);var m=v.later;p<0&&(m=v.ago,p=-p);var g=Math.floor(p/1e3),b=Math.floor(g/60),x=Math.floor(b/60),w=Math.floor(x/24),y=Math.floor(w/30),S=Math.floor(y/12);switch(!0){case S>0:u=S,l=v.year;break;case y>0:u=y,l=v.month;break;case w>0:u=w,l=v.day;break;case x>0:u=x,l=v.hour;break;case b>0:u=b,l=v.minute;break;default:u=g,l=v.second;break}"en"===n&&(1===u?u="a":l+="s");return v.template.replace(/{\s*num\s*}/g,u+"").replace(/{\s*unit\s*}/g,l).replace(/{\s*suffix\s*}/g,m)};var i=n(a("53ca"));function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t+="";while(t.length<e)t="0"+t;return t.slice(-e)}a("fb6a"),a("c975"),a("ac1f"),a("5319");var o={yyyy:function(t){return r(t.year,4)},yy:function(t){return r(t.year)},MM:function(t){return r(t.month)},M:function(t){return t.month},dd:function(t){return r(t.day)},d:function(t){return t.day},hh:function(t){return r(t.hour)},h:function(t){return t.hour},mm:function(t){return r(t.minute)},m:function(t){return t.minute},ss:function(t){return r(t.second)},s:function(t){return t.second},SSS:function(t){return r(t.millisecond,3)},S:function(t){return t.millisecond}};function s(t){if(t instanceof Date)return t;switch((0,i.default)(t)){case"string":return t.indexOf("T")>-1?new Date(t):new Date(t.replace(/-/g,"/"));default:return new Date(t)}}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy/MM/dd hh:mm:ss";if(!t&&0!==t)return"";t=s(t);var a={year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate(),hour:t.getHours(),minute:t.getMinutes(),second:t.getSeconds(),millisecond:t.getMilliseconds()},n=/yyyy|yy|MM|M|dd|d|hh|h|mm|m|ss|s|SSS|SS|S/,i=!0,r=e;while(i)i=!1,r=r.replace(n,(function(t){return i=!0,o[t](a)}));return r}}}]);